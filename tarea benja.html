import React, { useState } from 'react';
import { Calculator } from 'lucide-react';

export default function TrussAnalysis() {
  const [step, setStep] = useState(0);
  
  const steps = [
    {
      title: "1. DATOS DEL PROBLEMA",
      content: `
‚Ä¢ Geometr√≠a:
  - Base total: 20 pies (6 + 8 + 6)
  - Altura: 8 pies
  - Apoyo en A (izquierda)
  - Apoyo en D (derecha)

‚Ä¢ Cargas:
  - P‚ÇÅ = 2000 lb en nodo B (‚Üì)
  - P‚ÇÇ = 1200 lb en nodo C (‚Üì)

‚Ä¢ Miembros:
  AB, BC, CD (base)
  AE, BE, CE, DE (superiores)
      `
    },
    {
      title: "2. C√ÅLCULO DE REACCIONES",
      content: `
Suponemos:
‚Ä¢ Apoyo A: Reacci√≥n vertical R‚Çê
‚Ä¢ Apoyo D: Reacci√≥n vertical R·¥Ö

Ecuaciones de equilibrio:

Œ£F·µß = 0:
R‚Çê + R·¥Ö - 2000 - 1200 = 0
R‚Çê + R·¥Ö = 3200 lb ... (1)

Œ£M‚Çê = 0 (momentos respecto a A):
-2000(6) - 1200(14) + R·¥Ö(20) = 0
-12000 - 16800 + 20R·¥Ö = 0
20R·¥Ö = 28800
R·¥Ö = 1440 lb ‚Üë

De (1):
R‚Çê = 3200 - 1440 = 1760 lb ‚Üë

‚úì Verificaci√≥n Œ£M·¥Ö:
1760(20) - 2000(14) - 1200(6) = 0
35200 - 28000 - 7200 = 0 ‚úì
      `
    },
    {
      title: "3. √ÅNGULOS Y GEOMETR√çA",
      content: `
Calculamos √°ngulos para an√°lisis:

Nodo E (altura = 8 pies):
‚Ä¢ Posici√≥n horizontal de E: 
  x_E = 6 + 4 = 10 pies (centro)

Para miembro AE:
‚Ä¢ Horizontal: 10 - 0 = 10 pies
‚Ä¢ Vertical: 8 pies
‚Ä¢ Longitud: ‚àö(10¬≤ + 8¬≤) = 12.81 pies
‚Ä¢ Œ∏_AE = arctan(8/10) = 38.66¬∞

Para miembro BE:
‚Ä¢ Horizontal: 10 - 6 = 4 pies
‚Ä¢ Vertical: 8 pies
‚Ä¢ Longitud: ‚àö(4¬≤ + 8¬≤) = 8.94 pies
‚Ä¢ Œ∏_BE = arctan(8/4) = 63.43¬∞

Para miembro CE:
‚Ä¢ Horizontal: 14 - 10 = 4 pies
‚Ä¢ Vertical: 8 pies
‚Ä¢ Longitud: 8.94 pies
‚Ä¢ Œ∏_CE = arctan(8/4) = 63.43¬∞

Para miembro DE:
‚Ä¢ Horizontal: 20 - 10 = 10 pies
‚Ä¢ Vertical: 8 pies
‚Ä¢ Longitud: 12.81 pies
‚Ä¢ Œ∏_DE = arctan(8/10) = 38.66¬∞
      `
    },
    {
      title: "4. M√âTODO DE NODOS - NODO A",
      content: `
Fuerzas en nodo A:
‚Ä¢ R‚Çê = 1760 lb (‚Üë)
‚Ä¢ F_AB (horizontal, ‚Üí)
‚Ä¢ F_AE (inclinada)

Componentes de F_AE:
‚Ä¢ F_AE_x = F_AE √ó cos(38.66¬∞) = 0.781F_AE
‚Ä¢ F_AE_y = F_AE √ó sin(38.66¬∞) = 0.625F_AE

Œ£F‚Çì = 0:
-F_AB + 0.781F_AE = 0
F_AB = 0.781F_AE ... (a)

Œ£F·µß = 0:
1760 + 0.625F_AE = 0
F_AE = -2816 lb (compresi√≥n)

De (a):
F_AB = 0.781(-2816) = -2200 lb (compresi√≥n)

Resultados nodo A:
‚Ä¢ F_AE = 2816 lb (C)
‚Ä¢ F_AB = 2200 lb (C)
      `
    },
    {
      title: "5. M√âTODO DE NODOS - NODO B",
      content: `
Fuerzas en nodo B:
‚Ä¢ P‚ÇÅ = 2000 lb (‚Üì)
‚Ä¢ F_AB = 2200 lb (‚Üê, compresi√≥n)
‚Ä¢ F_BC (horizontal)
‚Ä¢ F_BE (inclinada)

Componentes de F_BE:
‚Ä¢ F_BE_x = F_BE √ó cos(63.43¬∞) = 0.447F_BE
‚Ä¢ F_BE_y = F_BE √ó sin(63.43¬∞) = 0.894F_BE

Œ£F‚Çì = 0:
2200 - F_BC - 0.447F_BE = 0
F_BC = 2200 - 0.447F_BE ... (b)

Œ£F·µß = 0:
-2000 + 0.894F_BE = 0
F_BE = 2237 lb (tensi√≥n)

De (b):
F_BC = 2200 - 0.447(2237)
F_BC = 2200 - 1000 = 1200 lb (tensi√≥n)

Resultados nodo B:
‚Ä¢ F_BE = 2237 lb (T)
‚Ä¢ F_BC = 1200 lb (T)
      `
    },
    {
      title: "6. M√âTODO DE NODOS - NODO C",
      content: `
Fuerzas en nodo C:
‚Ä¢ P‚ÇÇ = 1200 lb (‚Üì)
‚Ä¢ F_BC = 1200 lb (‚Üí, tensi√≥n)
‚Ä¢ F_CD (horizontal)
‚Ä¢ F_CE (inclinada)

Componentes de F_CE:
‚Ä¢ F_CE_x = F_CE √ó cos(63.43¬∞) = 0.447F_CE
‚Ä¢ F_CE_y = F_CE √ó sin(63.43¬∞) = 0.894F_CE

Œ£F‚Çì = 0:
-1200 + F_CD + 0.447F_CE = 0
F_CD = 1200 - 0.447F_CE ... (c)

Œ£F·µß = 0:
-1200 + 0.894F_CE = 0
F_CE = 1342 lb (tensi√≥n)

De (c):
F_CD = 1200 - 0.447(1342)
F_CD = 1200 - 600 = 600 lb (tensi√≥n)

Resultados nodo C:
‚Ä¢ F_CE = 1342 lb (T)
‚Ä¢ F_CD = 600 lb (T)
      `
    },
    {
      title: "7. M√âTODO DE NODOS - NODO E",
      content: `
Verificaci√≥n en nodo E:
‚Ä¢ F_AE = 2816 lb (compresi√≥n, empuja hacia E)
‚Ä¢ F_BE = 2237 lb (tensi√≥n, jala desde E)
‚Ä¢ F_CE = 1342 lb (tensi√≥n, jala desde E)
‚Ä¢ F_DE (inclinada)

Componentes:
‚Ä¢ F_AE: 2200‚Üí, 1760‚Üì
‚Ä¢ F_BE: -1000‚Üí, -2000‚Üì
‚Ä¢ F_CE: 600‚Üí, 1200‚Üì
‚Ä¢ F_DE: -0.781F_DE‚Üí, 0.625F_DE‚Üë

Œ£F‚Çì = 0:
2200 - 1000 + 600 - 0.781F_DE = 0
1800 = 0.781F_DE
F_DE = -2304 lb (compresi√≥n)

Œ£F·µß = 0:
-1760 - 2000 + 1200 + 0.625(-2304) = 0
-2560 - 1440 = -4000 ‚âà 0 ‚úì

Resultado nodo E:
‚Ä¢ F_DE = 2304 lb (C)
      `
    },
    {
      title: "8. RESUMEN DE RESULTADOS",
      content: `
FUERZAS EN LOS MIEMBROS:

Miembros de la Base:
‚Ä¢ AB = 2200 lb (Compresi√≥n)
‚Ä¢ BC = 1200 lb (Tensi√≥n)
‚Ä¢ CD = 600 lb (Tensi√≥n)

Miembros Inclinados:
‚Ä¢ AE = 2816 lb (Compresi√≥n)
‚Ä¢ BE = 2237 lb (Tensi√≥n)
‚Ä¢ CE = 1342 lb (Tensi√≥n)
‚Ä¢ DE = 2304 lb (Compresi√≥n)

INTERPRETACI√ìN:
‚Ä¢ (C) = Compresi√≥n (el miembro se acorta)
‚Ä¢ (T) = Tensi√≥n (el miembro se alarga)

Los miembros en compresi√≥n deben dise√±arse
considerando pandeo.

Los miembros en tensi√≥n son m√°s eficientes
ya que no tienen restricci√≥n de pandeo.

‚úì Todas las ecuaciones de equilibrio 
  se cumplen en cada nodo.
      `
    }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
      <div className="max-w-4xl mx-auto">
        <div className="bg-white rounded-lg shadow-xl p-8 mb-6">
          <div className="flex items-center gap-3 mb-6">
            <Calculator className="w-8 h-8 text-indigo-600" />
            <h1 className="text-3xl font-bold text-gray-800">
              An√°lisis de Armadura - Soluci√≥n Completa
            </h1>
          </div>
          
          <div className="mb-8 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
            <p className="text-sm text-gray-700">
              <strong>Problema:</strong> Armadura con altura de 8 pies, base de 20 pies (6+8+6), 
              con cargas de 2000 lb en B y 1200 lb en C.
            </p>
          </div>

          <div className="flex gap-2 mb-6 flex-wrap">
            {steps.map((s, i) => (
              <button
                key={i}
                onClick={() => setStep(i)}
                className={`px-4 py-2 rounded-lg font-medium transition-all ${
                  step === i
                    ? 'bg-indigo-600 text-white shadow-lg'
                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                }`}
              >
                Paso {i + 1}
              </button>
            ))}
          </div>

          <div className="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 mb-6">
            <h2 className="text-2xl font-bold text-indigo-800 mb-4">
              {steps[step].title}
            </h2>
            <pre className="whitespace-pre-wrap font-mono text-sm leading-relaxed text-gray-800">
              {steps[step].content}
            </pre>
          </div>

          <div className="flex justify-between mt-6">
            <button
              onClick={() => setStep(Math.max(0, step - 1))}
              disabled={step === 0}
              className="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
            >
              ‚Üê Anterior
            </button>
            <button
              onClick={() => setStep(Math.min(steps.length - 1, step + 1))}
              disabled={step === steps.length - 1}
              className="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all"
            >
              Siguiente ‚Üí
            </button>
          </div>
        </div>

        <div className="bg-white rounded-lg shadow-lg p-6">
          <h3 className="text-lg font-bold text-gray-800 mb-3">
            üìã Notas Importantes:
          </h3>
          <ul className="space-y-2 text-sm text-gray-700">
            <li>‚Ä¢ Este an√°lisis usa el <strong>M√©todo de los Nodos</strong></li>
            <li>‚Ä¢ Las fuerzas negativas indican compresi√≥n</li>
            <li>‚Ä¢ Las fuerzas positivas indican tensi√≥n</li>
            <li>‚Ä¢ Se verific√≥ equilibrio en cada nodo</li>
            <li>‚Ä¢ Puedes usar este m√©todo para cualquier armadura similar</li>
          </ul>
        </div>
      </div>
    </div>
  );
}